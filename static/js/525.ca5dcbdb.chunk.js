"use strict";(self.webpackChunkboje_react=self.webpackChunkboje_react||[]).push([[525],{148:(s,t,e)=>{e.d(t,{k:()=>p});var i=e(43),a=e(315),o=e(3),r=e(923),n=e(579);const d=s=>({isAuth:s.auth.isAuth}),p=s=>{class t extends i.Component{render(){return this.props.isAuth?(0,n.jsx)(s,{...this.props}):(0,n.jsx)(a.C5,{to:"/login"})}}return(0,r.Zz)((0,o.Ng)(d))(t)}},525:(s,t,e)=>{e.r(t),e.d(t,{default:()=>M});var i=e(43);const a="Profile_item__LnRDU",o={descriptionBlock:"ProfileInfo_descriptionBlock__-xU39"};var r=e(579);class n extends i.Component{constructor(){super(...arguments),this.state={editMode:!1,status:this.props.status},this.activateEditMode=()=>{this.setState({editMode:!0})},this.deactivateEditMode=()=>{this.setState({editMode:!1}),this.props.updateStatus(this.state.status)},this.onStatusChange=s=>{this.setState({status:s.currentTarget.value})}}componentDidUpdate(s){s.status!==this.props.status&&this.setState({status:this.props.status})}render(){return(0,r.jsxs)("div",{children:[!this.state.editMode&&(0,r.jsx)("div",{children:(0,r.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"-----"})}),this.state.editMode&&(0,r.jsx)("div",{children:(0,r.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})})]})}}const d=n;const p=s=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:o.item,children:(0,r.jsx)("img",{src:"https://i.pinimg.com/736x/6f/02/d1/6f02d195addc466721dbc8ac60db1192.jpg"})}),(0,r.jsxs)("div",{className:o.descriptionBlock,children:[(0,r.jsx)("img",{src:s.profile.photos.large}),(0,r.jsx)(d,{status:s.status,updateStatus:s.updateStatus}),"ava+description"]})]});var c=e(977);const u="Post_item__MQrz8";const l=s=>(0,r.jsxs)("div",{className:u,children:[(0,r.jsx)("img",{src:"https://i.pinimg.com/736x/6c/b6/3c/6cb63c8a1e88b37f5c0fb73cbd776cc4.jpg"}),(0,r.jsx)("div",{children:s.message}),(0,r.jsx)("span",{children:"like"})," ",s.likesCount]}),h={content:"Mypost_content__K0lOr",item:"Mypost_item__6WSmC",postsBlock:"Mypost_postsBlock__7tuSG",posts:"Mypost_posts__TBPVy"},x=i.memo((s=>{const t=s.posts.map((s=>(0,r.jsx)(l,{message:s.message,likesCount:s.likesCount},s.id))),e=(0,i.useRef)(null);return(0,r.jsxs)("div",{className:h.content,children:[(0,r.jsx)("div",{className:h.postsBlock,children:(0,r.jsx)("h3",{children:"My post"})}),(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{onChange:()=>{const t=e.current.value;s.updateNewPostText(t)},ref:e,value:s.newPostText,className:h.textarea})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>{s.addPost()},className:h.button,children:"Add post"})}),(0,r.jsx)("div",{className:h.postsList,children:t})]})}));var m=e(3);const v=(0,m.Ng)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({updateNewPostText:t=>{let e=(0,c.vU)(t);s(e)},addPost:()=>{s((0,c.oL)())}})))(x);var j=e(705);const g=s=>s.profile?(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:a,children:[(0,r.jsx)(p,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,r.jsx)(v,{})]})}):(0,r.jsx)(j.A,{});var f=e(315),_=e(923),S=e(148);class k extends i.Component{redirectToMainUser(){var s,t;let e=null===(s=this.props.match)||void 0===s||null===(t=s.params)||void 0===t?void 0:t.userId;e||(e=32336),this.props.getUsersProfile(e)}componentDidMount(){var s,t;const e=(null===(s=this.props.match)||void 0===s||null===(t=s.params)||void 0===t?void 0:t.userId)||32336;this.props.getUsersProfile(e),this.props.getStatus(e)}componentDidUpdate(s){this.props.match.params.userId!==s.match.params.userId&&this.redirectToMainUser()}render(){return(0,r.jsx)(g,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}const M=(0,_.Zz)((0,m.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status})),{getUsersProfile:c.ub,getStatus:c.BS,updateStatus:c.yB}),(function(s){return t=>{const e={params:(0,f.g)()};return(0,r.jsx)(s,{...t,match:e})}}),S.k)(k)}}]);
//# sourceMappingURL=525.ca5dcbdb.chunk.js.map