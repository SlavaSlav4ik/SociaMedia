"use strict";(self.webpackChunkboje_react=self.webpackChunkboje_react||[]).push([[735],{1735:(e,s,t)=>{t.r(s),t.d(s,{default:()=>H});var o=t(5043),i=t(4315),n=t(3003),r=t(5977),l=t(3089),a=t(5895),c=t(1244),d=t(6128),u=t(298),h=t(7873),x=t(3969),j=t(2097),A=t(1180),p=t(4067),f=t(1407),g=t(6428),b=t(5272),m=t(6413),k=t(579);const v=e=>{let{status:s,updateStatus:t}=e;const[i,n]=(0,o.useState)(!1),[r,l]=(0,o.useState)(s);(0,o.useEffect)((()=>{l(s)}),[s]);return(0,k.jsx)("div",{children:i?(0,k.jsx)(m.A,{autoFocus:!0,value:r,onChange:e=>l(e.target.value),onBlur:()=>{n(!1),t(r)},variant:"standard",fullWidth:!0}):(0,k.jsxs)(a.A,{onDoubleClick:()=>n(!0),sx:{cursor:"pointer"},children:[(0,k.jsx)("b",{children:"Status:"})," ",s||"No status"]})})};var P=t(3892),C=t(1725),S=t(6711);const w=e=>{let{profile:s,onSubmit:t}=e;const o={fullName:s.fullName||"",lookingForAJob:s.lookingForAJob||!1,lookingForAJobDescription:s.lookingForAJobDescription||"",aboutMe:s.aboutMe||"",contacts:s.contacts||{}};return(0,k.jsx)(P.l1,{enableReinitialize:!0,initialValues:o,onSubmit:t,children:e=>{let{values:t,handleChange:o}=e;return(0,k.jsx)(P.lV,{children:(0,k.jsxs)(u.A,{spacing:3,children:[(0,k.jsx)(a.A,{variant:"h6",children:"Edit Profile"}),(0,k.jsx)(m.A,{name:"fullName",label:"Full Name",value:t.fullName,onChange:o,fullWidth:!0}),(0,k.jsx)(C.A,{control:(0,k.jsx)(S.A,{name:"lookingForAJob",checked:t.lookingForAJob,onChange:o}),label:"Looking for a job"}),t.lookingForAJob&&(0,k.jsx)(m.A,{name:"lookingForAJobDescription",label:"Professional skills",value:t.lookingForAJobDescription,onChange:o,fullWidth:!0}),(0,k.jsx)(m.A,{name:"aboutMe",label:"About me",value:t.aboutMe,onChange:o,fullWidth:!0}),(0,k.jsxs)(p.A,{children:[(0,k.jsx)(f.A,{expandIcon:(0,k.jsx)(b.A,{}),children:(0,k.jsx)(a.A,{children:(0,k.jsx)("b",{children:"Contacts"})})}),(0,k.jsx)(g.A,{children:(0,k.jsx)(u.A,{spacing:2,children:Object.keys(s.contacts).map((e=>(0,k.jsx)(m.A,{name:`contacts.${e}`,label:e.charAt(0).toUpperCase()+e.slice(1),value:t.contacts[e]||"",onChange:o,fullWidth:!0},e)))})})]}),(0,k.jsx)(j.A,{type:"submit",variant:"contained",children:"Save"})]})})}})};var F=t(7665);const N=e=>{let{profile:s,isOwner:t,goToEditMode:o}=e;const i=Object.values(s.contacts).some((e=>e));return(0,k.jsxs)(u.A,{spacing:2,children:[t&&(0,k.jsx)(j.A,{variant:"contained",onClick:o,children:"Edit Profile"}),(0,k.jsxs)(a.A,{children:[(0,k.jsx)("b",{children:"Full name:"})," ",s.fullName]}),(0,k.jsxs)(a.A,{children:[(0,k.jsx)("b",{children:"Looking for a job:"})," ",s.lookingForAJob?"Yes":"No"]}),s.lookingForAJob&&s.lookingForAJobDescription&&(0,k.jsxs)(a.A,{children:[(0,k.jsx)("b",{children:"Professional skills:"})," ",s.lookingForAJobDescription]}),s.aboutMe&&(0,k.jsxs)(a.A,{children:[(0,k.jsx)("b",{children:"About me:"})," ",s.aboutMe]}),i&&(0,k.jsxs)(p.A,{children:[(0,k.jsx)(f.A,{expandIcon:(0,k.jsx)(b.A,{}),children:(0,k.jsx)(a.A,{children:(0,k.jsx)("b",{children:"Contacts"})})}),(0,k.jsx)(g.A,{children:(0,k.jsx)(u.A,{spacing:1,children:Object.entries(s.contacts).map((e=>{let[s,t]=e;return t?(0,k.jsx)(x.A,{children:(0,k.jsxs)(a.A,{children:[(0,k.jsxs)("b",{children:[D(s),":"]})," ",(0,k.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",style:{color:"#1976d2"},children:t})]})},s):null}))})})]})]})},D=e=>e.charAt(0).toUpperCase()+e.slice(1),y=e=>{const[s,t]=(0,o.useState)(!1);return e.profile?(0,k.jsx)(c.A,{sx:{marginTop:2},children:(0,k.jsxs)(d.A,{children:[(0,k.jsxs)(u.A,{direction:{xs:"column",sm:"row"},spacing:3,children:[(0,k.jsx)(h.A,{src:e.profile.photos.large||F,alt:"User",sx:{width:120,height:120}}),(0,k.jsxs)(x.A,{children:[e.isOwner&&(0,k.jsxs)(j.A,{variant:"outlined",component:"label",children:["Upload Photo",(0,k.jsx)("input",{type:"file",hidden:!0,onChange:s=>{s.target.files.length&&e.savePhoto(s.target.files[0])}})]}),(0,k.jsx)(x.A,{mt:2,children:(0,k.jsx)(v,{status:e.status,updateStatus:e.updateStatus})})]})]}),(0,k.jsx)(A.A,{sx:{my:2}}),s?(0,k.jsx)(w,{profile:e.profile,onSubmit:s=>{e.saveProfile(s).then((()=>{t(!1)}))}}):(0,k.jsx)(N,{profile:e.profile,isOwner:e.isOwner,goToEditMode:()=>t(!0)})]})}):(0,k.jsx)(a.A,{children:"Loading..."})};var J=t(3023),M=t(850),O=t(5877),L=t(2579),T=t(7664),U=t(2017),W=t(5362);function E(e){let{message:s,likesCount:t,dislikesCount:o,vote:i,onLike:n,onDislike:r,onDelete:l}=e;return(0,k.jsx)(c.A,{sx:{mb:2,bgcolor:"#e3f2fd"},children:(0,k.jsxs)(d.A,{children:[(0,k.jsxs)(u.A,{direction:"row",spacing:2,alignItems:"center",children:[(0,k.jsx)(h.A,{}),(0,k.jsx)(a.A,{children:s}),(0,k.jsx)(L.A,{onClick:l,sx:{ml:"auto"},children:(0,k.jsx)(W.A,{})})]}),(0,k.jsxs)(u.A,{direction:"row",spacing:1,mt:2,alignItems:"center",children:[(0,k.jsx)(L.A,{onClick:n,color:"like"===i?"primary":"default",children:(0,k.jsx)(T.A,{})}),(0,k.jsx)(a.A,{children:t}),(0,k.jsx)(L.A,{onClick:r,color:"dislike"===i?"error":"default",children:(0,k.jsx)(U.A,{})}),(0,k.jsx)(a.A,{children:o})]})]})})}const I={addPost:r.SD,updateNewPostText:r.dj,deletePost:r.ys,toggleLike:r.GB,toggleDislike:r.MP},R=(0,n.Ng)((e=>({posts:e.profilePage.posts,newPostText:e.profilePage.newPostText})),I)((function(e){let{posts:s,newPostText:t,addPost:i,updateNewPostText:n,deletePost:r,toggleLike:l,toggleDislike:a}=e;const c=(0,o.useRef)(),[d,h]=o.useState(!1),[A,p]=o.useState(null),f=()=>h(!1);return(0,k.jsxs)(x.A,{sx:{p:2,bgcolor:"#bbdefb",borderRadius:2,mb:4},children:[(0,k.jsxs)(u.A,{spacing:2,children:[(0,k.jsx)(m.A,{multiline:!0,rows:3,inputRef:c,value:t,onChange:e=>n(e.target.value),label:"What's on your mind?",fullWidth:!0}),(0,k.jsx)(j.A,{variant:"contained",onClick:i,children:"Add Post"}),s.map((e=>(0,k.jsx)(E,{...e,onLike:()=>l(e.id),onDislike:()=>a(e.id),onDelete:()=>{return s=e.id,p(s),void h(!0);var s}},e.id)))]}),(0,k.jsxs)(J.A,{open:d,onClose:f,children:[(0,k.jsx)(M.A,{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u043e\u0441\u0442?"}),(0,k.jsxs)(O.A,{children:[(0,k.jsx)(j.A,{onClick:f,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,k.jsx)(j.A,{onClick:()=>{r(A),h(!1)},color:"error",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})}));var B=t(3569),$=t(5315),_=t(2455),z=t(4244),V=t(5030);const G=(0,n.Ng)((e=>({friends:e.friendsPage.friends})),{getFriends:B.M7})((function(e){let{friends:s,getFriends:t}=e;return(0,o.useEffect)((()=>{t()}),[t]),(0,k.jsxs)(x.A,{sx:{p:2,bgcolor:"#f3e5f5",borderRadius:2},children:[(0,k.jsx)(a.A,{variant:"h6",mb:1,children:"Friends"}),(0,k.jsx)($.A,{children:s.map((e=>{var s;return(0,k.jsxs)(_.Ay,{children:[(0,k.jsx)(z.A,{children:(0,k.jsx)(i.k2,{to:`/profile/${e.id}`,style:{textDecoration:"none"},children:(0,k.jsx)(h.A,{src:(null===(s=e.photos)||void 0===s?void 0:s.small)||"",sx:{cursor:"pointer"}})})}),(0,k.jsx)(V.A,{primary:(0,k.jsx)(i.k2,{to:`/profile/${e.id}`,style:{textDecoration:"none",color:"inherit",fontWeight:500},children:e.name})})]},e.id)}))})]})}));var Y=t(6796);const Z=e=>e.profile?(0,k.jsxs)(l.A,{container:!0,spacing:2,className:"profile-grid",children:[(0,k.jsx)(l.A,{item:!0,xs:12,children:(0,k.jsx)(y,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile})}),(0,k.jsx)(l.A,{item:!0,className:"my-posts-item",children:(0,k.jsx)(R,{})}),(0,k.jsx)(l.A,{item:!0,className:"friends-item",children:(0,k.jsx)(G,{friends:e.friends})})]}):(0,k.jsx)(Y.A,{});var q=t(7148);const H=(0,n.Ng)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,authedUserId:e.auth.id})),{getUsersProfile:r.ub,getStatus:r.BS,updateStatus:r.yB,savePhoto:r.Ah,saveProfile:r.Lt})((0,q.k)((e=>{const{userId:s}=(0,i.g)(),t=s||e.authedUserId;return(0,o.useEffect)((()=>{e.getUsersProfile(t),e.getStatus(t)}),[s]),(0,k.jsx)(Z,{...e,profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:!s,savePhoto:e.savePhoto,saveProfile:e.saveProfile})})))},7148:(e,s,t)=>{t.d(s,{k:()=>c});var o=t(5043),i=t(4315),n=t(3003),r=t(3923),l=t(579);const a=e=>({isAuth:e.auth.isAuth}),c=e=>{class s extends o.Component{render(){return this.props.isAuth?(0,l.jsx)(e,{...this.props}):(0,l.jsx)(i.C5,{to:"/login"})}}return(0,r.Zz)((0,n.Ng)(a))(s)}},7665:(e,s,t)=>{e.exports=t.p+"static/media/47d45103406b3b1a2a873981694e844b.d9bbc570055acd7b200f.jpg"}}]);
//# sourceMappingURL=735.e31b2b55.chunk.js.map