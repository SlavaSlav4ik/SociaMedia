"use strict";(self.webpackChunkboje_react=self.webpackChunkboje_react||[]).push([[33],{7033:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(3003),i=t(5043),n=t(3969),r=t(3089),l=t(4799),o=t(5895),d=t(5315),c=t(2455),h=t(5030),u=t(6413),x=t(2097),g=t(4315),j=t(579);const p=e=>{const{dialogsPage:s,fetchMessages:t,sendMessageThunk:a,updateNewMessageBody:p,isAuth:A}=e,[f,m]=(0,i.useState)(null),{dialogs:v,messages:b,newMessageBody:k}=s;(0,i.useEffect)((()=>{f&&t(f)}),[f]);return(0,i.useEffect)((()=>{e.fetchDialogs()}),[]),A?(0,j.jsx)(n.A,{sx:{flexGrow:1,p:2},children:(0,j.jsxs)(r.A,{container:!0,spacing:2,children:[(0,j.jsx)(r.A,{item:!0,xs:12,md:4,children:(0,j.jsxs)(l.A,{elevation:3,sx:{p:2},children:[(0,j.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"}),(0,j.jsx)(d.A,{children:v.map((e=>(0,j.jsx)(c.Ay,{button:!0,selected:e.id===f,onClick:()=>{return s=e.id,void m(s);var s},children:(0,j.jsx)(h.A,{primary:e.name})},e.id)))})]})}),(0,j.jsx)(r.A,{item:!0,xs:12,md:8,children:(0,j.jsxs)(l.A,{elevation:3,sx:{p:2,height:"100%"},children:[(0,j.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"}),(0,j.jsx)(n.A,{sx:{maxHeight:400,overflowY:"auto",mb:2,display:"flex",flexDirection:"column",gap:1},children:b.map((e=>(0,j.jsx)(l.A,{sx:{p:1.5,bgcolor:"#f5f5f5"},children:(0,j.jsx)(o.A,{variant:"body1",children:e.body||e.message})},e.id)))}),(0,j.jsxs)(n.A,{sx:{display:"flex",gap:1},children:[(0,j.jsx)(u.A,{fullWidth:!0,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:k,onChange:e=>{p(e.target.value)},variant:"outlined",size:"small"}),(0,j.jsx)(x.A,{variant:"contained",color:"primary",onClick:()=>{f&&k.trim()&&a(f,k)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})]})}):(0,j.jsx)(g.C5,{to:"/login"})};var A=t(3923),f=t(7148),m=t(1344);const v={updateNewMessageBody:m.Br,fetchMessages:m.lj,sendMessageThunk:m.ce,fetchDialogs:m.mW},b=(0,A.Zz)((0,a.Ng)((e=>({dialogsPage:e.dialogsPage,isAuth:e.auth.isAuth})),v),f.k)(p)},7148:(e,s,t)=>{t.d(s,{k:()=>d});var a=t(5043),i=t(4315),n=t(3003),r=t(3923),l=t(579);const o=e=>({isAuth:e.auth.isAuth}),d=e=>{class s extends a.Component{render(){return this.props.isAuth?(0,l.jsx)(e,{...this.props}):(0,l.jsx)(i.C5,{to:"/login"})}}return(0,r.Zz)((0,n.Ng)(o))(s)}}}]);
//# sourceMappingURL=33.7dbeebfe.chunk.js.map