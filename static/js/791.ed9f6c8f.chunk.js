"use strict";(self.webpackChunkboje_react=self.webpackChunkboje_react||[]).push([[791],{5889:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var t=a(3003),i=a(5043),n=a(3969),r=a(3089),l=a(4799),c=a(5895),d=a(5315),o=a(2455),h=a(5030),x=a(6413),g=a(2097),u=a(4315);const f=a.p+"static/media/3a0c9909b542717ce9f651d07c4d4592.effc24d5a6109a9e5a70.gif",j=a.p+"static/media/b3db578eee7f9c757429a68ca32892fa.7ce734e40d6a82af1014.gif";var m=a(579);const p=[f,j],A=()=>{const[e,s]=(0,i.useState)(0);return(0,i.useEffect)((()=>{const e=setInterval((()=>{s((e=>(e+1)%p.length))}),1e4);return()=>clearInterval(e)}),[]),(0,m.jsxs)("div",{className:"gif-slider",children:[(0,m.jsx)("img",{src:p[e],alt:"GIF",className:"gif-image"}),(0,m.jsx)("p",{className:"slider-text",children:"\u0420\u0430\u0437\u0434\u0435\u043b \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435..."})]})},v=e=>{const{dialogsPage:s,fetchMessages:a,sendMessageThunk:t,updateNewMessageBody:f,isAuth:j}=e,[p,v]=(0,i.useState)(null),{dialogs:b,messages:k,newMessageBody:y}=s;(0,i.useEffect)((()=>{p&&a(p)}),[p]);return(0,i.useEffect)((()=>{e.fetchDialogs()}),[]),j?(0,m.jsx)(n.A,{sx:{flexGrow:1,p:2},children:(0,m.jsxs)(r.A,{container:!0,spacing:2,children:[(0,m.jsx)(r.A,{item:!0,xs:12,md:4,children:(0,m.jsxs)(l.A,{elevation:3,sx:{p:2},children:[(0,m.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"}),(0,m.jsx)(d.A,{children:b.map((e=>(0,m.jsx)(o.Ay,{button:!0,selected:e.id===p,onClick:()=>{return s=e.id,void v(s);var s},children:(0,m.jsx)(h.A,{primary:e.name})},e.id)))})]})}),(0,m.jsx)(r.A,{item:!0,xs:12,md:8,children:(0,m.jsxs)(l.A,{elevation:3,sx:{p:2,height:"100%"},children:[(0,m.jsx)(n.A,{sx:{mb:2},children:(0,m.jsx)(A,{})}),(0,m.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"}),(0,m.jsx)(n.A,{sx:{maxHeight:400,overflowY:"auto",mb:2,display:"flex",flexDirection:"column",gap:1},children:k.map((e=>(0,m.jsx)(l.A,{sx:{p:1.5,bgcolor:"#f5f5f5"},children:(0,m.jsx)(c.A,{variant:"body1",children:e.body||e.message})},e.id)))}),(0,m.jsxs)(n.A,{sx:{display:"flex",gap:1},children:[(0,m.jsx)(x.A,{fullWidth:!0,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:y,onChange:e=>{f(e.target.value)},variant:"outlined",size:"small"}),(0,m.jsx)(g.A,{variant:"contained",color:"primary",onClick:()=>{p&&y.trim()&&t(p,y)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})]})}):(0,m.jsx)(u.C5,{to:"/login"})};var b=a(3923),k=a(7148),y=a(1344);const C={updateNewMessageBody:y.Br,fetchMessages:y.lj,sendMessageThunk:y.ce,fetchDialogs:y.mW},w=(0,b.Zz)((0,t.Ng)((e=>({dialogsPage:e.dialogsPage,isAuth:e.auth.isAuth})),C),k.k)(v)},7148:(e,s,a)=>{a.d(s,{k:()=>d});var t=a(5043),i=a(4315),n=a(3003),r=a(3923),l=a(579);const c=e=>({isAuth:e.auth.isAuth}),d=e=>{class s extends t.Component{render(){return this.props.isAuth?(0,l.jsx)(e,{...this.props}):(0,l.jsx)(i.C5,{to:"/login"})}}return(0,r.Zz)((0,n.Ng)(c))(s)}}}]);
//# sourceMappingURL=791.ed9f6c8f.chunk.js.map